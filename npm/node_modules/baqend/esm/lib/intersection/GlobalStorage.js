import { TokenStorage } from './TokenStorage';
export class GlobalStorage extends TokenStorage {
    /**
     * Creates a global token storage instance for the given origin
     * A global token storage use a global variable to store the actual origin tokens
     * @param origin
     * @return
     */
    static create(origin) {
        return Promise.resolve(new GlobalStorage(origin, GlobalStorage.tokens[origin]));
    }
    /**
     * @inheritDoc
     */
    saveToken(origin, token, temporary) {
        if (!temporary) {
            if (token) {
                GlobalStorage.tokens[origin] = token;
            }
            else {
                delete GlobalStorage.tokens[origin];
            }
        }
    }
}
GlobalStorage.tokens = {};
TokenStorage.GLOBAL = GlobalStorage;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR2xvYmFsU3RvcmFnZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9pbnRlcnNlY3Rpb24vR2xvYmFsU3RvcmFnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFOUMsTUFBTSxPQUFPLGFBQWMsU0FBUSxZQUFZO0lBRzdDOzs7OztPQUtHO0lBQ0gsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFjO1FBQzFCLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLGFBQWEsQ0FBQyxNQUFNLEVBQUUsYUFBYSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEYsQ0FBQztJQUVEOztPQUVHO0lBQ0gsU0FBUyxDQUFDLE1BQWMsRUFBRSxLQUFhLEVBQUUsU0FBa0I7UUFDekQsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNkLElBQUksS0FBSyxFQUFFO2dCQUNULGFBQWEsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDO2FBQ3RDO2lCQUFNO2dCQUNMLE9BQU8sYUFBYSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUNyQztTQUNGO0lBQ0gsQ0FBQzs7QUF2QmMsb0JBQU0sR0FBaUMsRUFBRSxDQUFDO0FBMEIzRCxZQUFZLENBQUMsTUFBTSxHQUFHLGFBQWEsQ0FBQyJ9